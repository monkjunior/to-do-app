(this["webpackJsonpto-do-app"]=this["webpackJsonpto-do-app"]||[]).push([[0],{202:function(e,t,a){e.exports=a(398)},207:function(e,t,a){},208:function(e,t,a){},371:function(e,t,a){},373:function(e,t,a){},398:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),c=a(198),r=a.n(c),i=(a(207),a(21)),l=a(22),s=a(23),d=a(24),u=(a(208),a(12)),m=a(33),E=a(13),p=a(17),k=function(e,t){return function(a,n,o){o.getFirebase;(0,o.getFirestore)().collection(t).doc(e).delete().then((function(){a({type:"DELETE_TASK",id:e})})).catch((function(e){a({type:"DELETE_TASK_ERR",err:e})}))}},h=function(e){Object(d.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleClick=n.handleClick.bind(Object(p.a)(n)),n.handleButton=n.handleButton.bind(Object(p.a)(n)),n}return Object(l.a)(a,[{key:"handleClick",value:function(e){var t=this.props.id.toString();this.props.makeUnDone(t)}},{key:"handleButton",value:function(e){var t=this.props.id.toString();this.props.deleteDoneTask(t)}},{key:"render",value:function(){return o.a.createElement("li",{className:"task",id:this.props.id},o.a.createElement("div",{className:"task-line"},o.a.createElement("div",{className:"task-line-node"}),o.a.createElement("div",{className:"task-line-tail"})),o.a.createElement("div",{className:"task-content"},o.a.createElement("div",{className:"task-name"},this.props.name),o.a.createElement("div",{className:"task-detail"},o.a.createElement("p",null,this.props.detail)),o.a.createElement("div",{className:"task-time"},this.props.time),o.a.createElement("div",{className:"button-wrapper"},o.a.createElement("button",{id:"undone-button",onClick:this.handleClick}),o.a.createElement("button",{id:"delete-button",onClick:this.handleButton}))))}}]),a}(n.Component),b=Object(u.b)((function(e,t){return t}),(function(e){return{deleteDoneTask:function(t){e(k(t,"done"))},makeUnDone:function(t){var a;e((a=t,function(e,t,n){n.getFirebase;var o=(0,n.getFirestore)();o.collection("done").doc(a).get().then((function(t){if(t.exists){var n=t.data(),c=n.name,r=n.detail,i=n.time,l=n.id,s=new Date;l=s.getTime().toString(),i="".concat(s.toLocaleDateString(),"  |  ").concat(s.toLocaleTimeString()),o.collection("tasks").doc(l).set({id:l,name:c,detail:r,time:i}),o.collection("done").doc(a).delete().then((function(){e({type:"MAKE_UN_DONE",id:l})})).catch((function(t){e({type:"MAKE_UNDONE_ERR",err:t})}))}else e({type:"MAKE_UNDONE_ERR",err:"NULL ERR"})})).catch((function(t){e({type:"MAKE_UNDONE_ERR",err:t})}))}))}}}))(h),f=a(53);var v=Object(E.d)(Object(u.b)((function(e){return{done:e.firestore.ordered.done||e.tasks.done}})),Object(m.firestoreConnect)([{collection:"done"}]))((function(e){var t=e.done.map((function(e){return o.a.createElement(b,{name:e.name,detail:e.detail,time:e.time,id:e.id,key:e.id})}));return o.a.createElement("div",{className:"activity"},o.a.createElement("div",{className:"activity-title"},"Log"),o.a.createElement("span",null," Click to undone task | Double click to delete task"),o.a.createElement("ul",{className:"donetask-wrapper"},o.a.createElement("div",{className:"task-wrapper-space"},t.reverse())))})),g=(a(371),function(e){Object(d.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleClick=n.handleClick.bind(Object(p.a)(n)),n.handleButton=n.handleButton.bind(Object(p.a)(n)),n}return Object(l.a)(a,[{key:"handleClick",value:function(e){var t=this.props.id.toString();this.props.makeDone(t)}},{key:"handleButton",value:function(e){var t=this.props.id.toString();this.props.deleteTask(t)}},{key:"render",value:function(){return o.a.createElement("li",{className:"task",id:this.props.id},o.a.createElement("div",{className:"task-line"},o.a.createElement("div",{className:"task-line-node"}),o.a.createElement("div",{className:"task-line-tail"})),o.a.createElement("div",{className:"task-content"},o.a.createElement("div",{className:"task-name"},this.props.name),o.a.createElement("div",{className:"task-detail"},o.a.createElement("p",null,this.props.detail)),o.a.createElement("div",{className:"task-time"},this.props.time),o.a.createElement("div",{className:"button-wrapper"},o.a.createElement("button",{id:"done-button",onClick:this.handleClick}),o.a.createElement("button",{id:"delete-button",onClick:this.handleButton}))))}}]),a}(n.Component)),O=Object(u.b)((function(e,t){return t}),(function(e){return{deleteTask:function(t){e(k(t,"tasks"))},makeDone:function(t){var a;e((a=t,function(e,t,n){n.getFirebase;var o=(0,n.getFirestore)();o.collection("tasks").doc(a).get().then((function(t){if(t.exists){var n=t.data(),c=n.name,r=n.detail,i=n.time,l=n.id,s=new Date;l=s.getTime().toString(),i="".concat(s.toLocaleDateString(),"  |  ").concat(s.toLocaleTimeString()),o.collection("done").doc(l).set({id:l,name:c,detail:r,time:i}),o.collection("tasks").doc(a).delete().then((function(){e({type:"MAKE_DONE",id:l})})).catch((function(t){e({type:"MAKE_DONE_ERR",err:t})}))}else e({type:"MAKE_DONE_ERR",err:"NULL ERR"})})).catch((function(t){e({type:"MAKE_DONE_ERR",err:t})}))}))}}}))(g);a(372);f.initializeApp({apiKey:"AIzaSyC-podzmrb-krx-HDycqENO4fiElXgbR6g",authDomain:"vungocson998.github.io/to-do-app",databaseURL:"https://to-do-app-13683.firebaseio.com",projectId:"to-do-app-13683",storageBucket:"gs://to-do-app-13683.appspot.com",messagingSenderId:"Son Vu | To do app"});var N=f,R=a(78),_=(a(373),function(e){Object(d.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleAdd=function(e){e.preventDefault();var t=document.getElementById("task-name").value;if(""!==t){var a=document.getElementById("task-detail").value,n=new Date,o=n.getTime().toString(),c="".concat(n.toLocaleDateString(),"  |  ").concat(n.toLocaleTimeString());this.props.createTask({id:o,name:t,detail:a,time:c}),console.log("Adding Document "+o+" Successfully"),document.getElementById("task-name").value="",document.getElementById("task-detail").value=""}},n.handleAdd=n.handleAdd.bind(Object(p.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("form",null,o.a.createElement("input",{type:"text",placeholder:"Task name",id:"task-name"}),o.a.createElement("textarea",{name:"",id:"task-detail",cols:"1",rows:"2",placeholder:"Detail ..."}),o.a.createElement("div",{className:"button-wrapper"},o.a.createElement("button",{type:"submit",id:"add-button",onClick:this.handleAdd},"Add")))}}]),a}(n.Component)),A=Object(u.b)((function(e){return{done:e.done,todos:e.todos}}),(function(e){return{createTask:function(t){e(function(e){return function(t,a,n){n.getFirebase;(0,n.getFirestore)().collection("tasks").doc(e.id).set(Object(R.a)({},e)).then((function(){t({type:"CREATE_TASK",task:e})})).catch((function(e){t({type:"CREATE_TASK_ERR",err:e})}))}}(t))}}}))(_);var D=Object(E.d)(Object(u.b)((function(e){return{todos:e.firestore.ordered.tasks||e.tasks.todos}})),Object(m.firestoreConnect)([{collection:"tasks"}]))((function(e){var t=e.todos.map((function(e){return o.a.createElement(O,{name:e.name,detail:e.detail,time:e.time,id:e.id,key:e.id})}));return o.a.createElement("div",{className:"to-do"},o.a.createElement("div",{className:"to-do-title"},"To do list"),o.a.createElement("span",null," Click to done task | Double click to delete task"),o.a.createElement(A,null),o.a.createElement("ul",{className:"task-wrapper"},o.a.createElement("div",{className:"task-wrapper-space"},t.reverse())))})),j=function(e){Object(d.a)(a,e);var t=Object(s.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"main"},o.a.createElement(D,null),o.a.createElement(v,null))}}]),a}(n.Component);var T=function(e){return o.a.createElement("div",{className:"App"},o.a.createElement(j,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var y=a(54),K={todos:[],done:[]},S=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"MAKE_DONE":return console.log("MAKE_DONE"),t;case"MAKE_DONE_ERR":return console.log("MAKE_DONE_ERROR "+a.err),t;case"MAKE_UNDONE":return console.log("MAKE_DONE"),t;case"MAKE_UNDONE_ERR":return console.log("MAKE_DONE_ERROR "+a.err),t;case"DELETE_TASK":return console.log("DELETE_TASK"),t;case"DELETE_TASK_ERR":return console.log("DELETE_TASK_ERR "+a.err),t;case"CREATE_TASK":return(e=t.todos).push(a.task),console.log("CREATE_TASK"),console.log(e),Object(R.a)({},t,{todos:e});case"CREATE_TASK_ERR":return console.log("CREATE_TASK_ERR "+a.err),t;default:return t}return t},C=Object(E.c)({tasks:S,firestore:y.firestoreReducer}),w=a(201),L=Object(E.e)(C,Object(E.d)(Object(E.a)(w.a.withExtraArgument({getFirebase:m.getFirebase,getFirestore:y.getFirestore})),Object(y.reduxFirestore)(N),Object(m.reactReduxFirebase)(N)));r.a.render(o.a.createElement(u.a,{store:L},o.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[202,1,2]]]);
//# sourceMappingURL=main.139aa46a.chunk.js.map